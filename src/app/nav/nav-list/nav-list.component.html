<nav class="nav flex-column">

    <ng-template ngFor let-listItem [ngForOf]="mainNav">
        <a 
            *ngIf="canView(listItem)" 
            class="nav-link navLink text-right" 
            [ngClass]="{'small': listItem.size=='sub'}"
            (click)="routeTo(listItem.link)"
            routerLinkActive="active">
            {{listItem.text}}
        </a>

        <br *ngIf="listItem.type == 'gap' && listItem.active">
    </ng-template>
    <br>
    <ng-container *ngIf="adminViewReducer()">
        <ng-template ngFor let-listItem [ngForOf]="adminNav">
            <a 
                *ngIf="adminCanView(listItem)"
                class="nav-link navLink text-right" 
                [ngClass]="{'small': listItem.size=='sub'}"
                (click)="routeTo(listItem.link)"
                routerLinkActive="active">
                {{listItem.text}}
            </a>
            <br *ngIf="listItem.type == 'gap' && listItem.active">
        </ng-template>
        <br>
    </ng-container>
    <ng-container *ngIf="isAuthenticated; else login">
        <span class="nav-link text-right">
            <a 
                class="navLink"
                routerLink="user"
                fragment="settings"
                routerLinkActive="active">
                {{username}}</a>
            &nbsp;(<a 
            class="navLink small" 
            routerLink="user"
            fragment="logout"
            routerLinkActive="active">Logout</a>)
        </span>
    </ng-container>
    <ng-template #login>
            <a 
            class="nav-link navLink text-right" 
            routerLink="user"
            fragment="login"
            routerLinkActive="active">
            Login
        </a>
        <a 
            class="nav-link navLink text-right small" 
            routerLink="user"
            fragment="register"
            routerLinkActive="active">
            Register
        </a>
    </ng-template>
</nav>