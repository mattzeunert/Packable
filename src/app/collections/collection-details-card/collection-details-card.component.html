<div class="collection-card-container">
  <mat-card class="collection-card" [class.with-profiles]="profileGroup && profileGroup.length >0">
    <div class="flex-container">
      <div class="flex-item actionBox">
        <ng-container *ngIf="actionType=='button'">
          <icon-text-button [svgIcon]="buttonState" [disabled]="disabled" (onClick)="action()" [buttonWidth]="buttonWidth()+'px'">
          </icon-text-button>
        </ng-container>
        <ng-container *ngIf="actionType=='selection'">
          <icon-text-button [svgIcon]="selectionState ? selectionOnIcon : selectionOffIcon" [disabled]="disabled" (onClick)="action()"
            [buttonWidth]="buttonWidth()+'px'">
          </icon-text-button>
        </ng-container>
        <ng-container *ngIf="actionType=='none'">
            <icon-text-button [svgIcon]="staticIcon" [disabled]="true"
              [buttonWidth]="buttonWidth()+'px'" color="muted">
            </icon-text-button>
          </ng-container>
      </div>
      <div class="flex-item detailBox" [class.text-muted]="disabled">
        <p class="detailBox-header" [class.small-screen]="windowService.max('xs')">{{collection.name}}</p>
        <div class="packable-list-container" *ngIf="!profileGroup || profileGroup.length === 0">
          <list-concatinator [list]="packableNameList">
          </list-concatinator>
        </div>
        <div *ngIf="profileGroup && profileGroup.length >0 && !selectionState && essentialGroup && essentialGroup.length > 0 " class="small text-muted">
            Essential for {{essentialGroup | join:', ':'name'}}
          </div>
      </div>
    </div>

    <div class="used-by-container" *ngIf="profileGroup && profileGroup.length >0" @transitionTrigger>
        <div *ngFor="let profile of profileGroup" style="line-height:0em;" @horizontalShringAndFade>
          <profile-icon 
            [profileId]="profile.id" 
            width="20px" 
            [inline]="true" 
            [fullFrame]="true">
          </profile-icon>
        </div>
      </div>
  </mat-card>
  
</div>